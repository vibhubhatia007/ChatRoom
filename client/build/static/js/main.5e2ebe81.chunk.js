(window.webpackJsonpproject_chat_application=window.webpackJsonpproject_chat_application||[]).push([[0],{100:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},101:function(e,a,t){e.exports=t.p+"static/media/banner.0303332d.png"},102:function(e,a,t){e.exports=t.p+"static/media/banner-small.d35b4593.png"},114:function(e,a,t){e.exports=t(230)},154:function(e,a){},157:function(e,a,t){},192:function(e,a,t){},193:function(e,a,t){},194:function(e,a,t){},195:function(e,a,t){},196:function(e,a,t){},197:function(e,a,t){},215:function(e,a){},217:function(e,a){},229:function(e,a,t){},230:function(e,a,t){"use strict";t.r(a);var n,r=t(0),c=t.n(r),l=t(9),i=t.n(l),o=t(21),s=t(8),m=t(98),u=t.n(m),d=t(45),p=t.n(d),f=t(46),E=t.n(f),g=(t(157),function(e){var a=e.users;return c.a.createElement("div",{className:"textContainer"},c.a.createElement("div",null,c.a.createElement("h1",null,"Realtime Chat Room ",c.a.createElement("span",{role:"img","aria-label":"emoji"},"\ud83d\udcac"))),a?c.a.createElement("div",null,c.a.createElement("h1",null,"People currently chatting:"),c.a.createElement("div",{className:"activeContainer"},c.a.createElement("h2",null,a.map(function(e){var a=e.name;return c.a.createElement("div",{key:a,className:"activeItem"},c.a.createElement("span",{role:"img","aria-label":"emoji",style:{marginRight:"10px"}},"  \ud83e\uddd1\u200d"),a,c.a.createElement("img",{alt:"Online Icon",src:E.a}))})))):null)}),b=t(99),v=t.n(b),A=(t(192),t(60)),h=t.n(A),j=function(e){var a=e.message,t=a.text,n=a.user,r=!1,l=e.name.trim().toLowerCase();return n===l&&(r=!0),r?c.a.createElement("div",{className:"messageContainer justifyEnd"},c.a.createElement("p",{className:"sentText pr-10"},l),c.a.createElement("div",{className:"messageBox backgroundBlue"},c.a.createElement("p",{className:"messageText colorWhite"},h.a.emojify(t)))):c.a.createElement("div",{className:"messageContainer justifyStart"},c.a.createElement("div",{className:"messageBox backgroundLight"},c.a.createElement("p",{className:"messageText colorDark"},h.a.emojify(t))),c.a.createElement("p",{className:"sentText pl-10 "},n))},C=(t(193),function(e){var a=e.messages,t=e.name;return c.a.createElement(v.a,{className:"messages"},a.map(function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(j,{message:e,name:t}))}))}),x=t(100),O=t.n(x),N=(t(194),function(e){var a=e.room;return c.a.createElement("div",{className:"infoBar"},c.a.createElement("div",{className:"leftInnerContainer"},c.a.createElement("img",{className:"onlineIcon",src:E.a,alt:"online icon"}),c.a.createElement("h3",null,a)),c.a.createElement("div",{className:"rightInnerContainer"},c.a.createElement("a",{href:"/"},c.a.createElement("img",{src:O.a,alt:"close icon"}))))}),y=(t(195),function(e){var a=e.setMessage,t=e.sendMessage,n=e.message;return c.a.createElement("form",{className:"form"},c.a.createElement("input",{className:"input",type:"text",placeholder:"Type a message...",value:n,onChange:function(e){var t=e.target.value;return a(t)},onKeyPress:function(e){return"Enter"===e.key?t(e):null}}),c.a.createElement("button",{className:"sendButton",onClick:function(e){return t(e)}},"Send"))}),w=(t(196),function(e){var a=e.location,t=Object(r.useState)(""),l=Object(s.a)(t,2),i=l[0],m=l[1],d=Object(r.useState)(""),f=Object(s.a)(d,2),E=f[0],b=f[1],v=Object(r.useState)(""),A=Object(s.a)(v,2),h=A[0],j=A[1],x=Object(r.useState)(""),O=Object(s.a)(x,2),w=O[0],I=O[1],S=Object(r.useState)([]),k=Object(s.a)(S,2),R=k[0],B=k[1];Object(r.useEffect)(function(){var e=u.a.parse(a.search),t=e.name,r=e.room;n=p()("https://chatapp0007.herokuapp.com/"),b(r),m(t),n.emit("join",{name:t,room:r},function(e){e&&alert(e)})},["https://chatapp0007.herokuapp.com/",a.search]),Object(r.useEffect)(function(){n.on("message",function(e){B(function(a){return[].concat(Object(o.a)(a),[e])})}),n.on("roomData",function(e){var a=e.users;j(a)})},[]);return c.a.createElement("div",{className:"outerContainer"},c.a.createElement("div",{className:"container"},c.a.createElement(N,{room:E}),c.a.createElement(C,{messages:R,name:i}),c.a.createElement(y,{message:w,setMessage:I,sendMessage:function(e){e.preventDefault(),w&&n.emit("sendMessage",w,function(){return I("")})}})),c.a.createElement(g,{users:h}))}),I=t(48),S=t(101),k=t.n(S),R=t(102),B=t.n(R);t(197);function U(){var e=Object(r.useState)(""),a=Object(s.a)(e,2),t=a[0],n=a[1],l=Object(r.useState)(""),i=Object(s.a)(l,2),o=i[0],m=i[1];return c.a.createElement("div",{className:"joinOuterContainer"},c.a.createElement("div",{className:"joinInnerContainer1"},c.a.createElement("img",{src:k.a,alt:""})),c.a.createElement("div",{className:"joinInnerContainer"},c.a.createElement("h1",{className:"heading"},"Chat Room"),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return n(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("input",{placeholder:"Room",className:"joinInput mt-20",type:"text",onChange:function(e){return m(e.target.value)}})),c.a.createElement(I.b,{onClick:function(e){return t&&o?null:e.preventDefault()},to:"/chat?name=".concat(t,"&room=").concat(o)},c.a.createElement("button",{className:"button mt-20",type:"submit"},"Sign In"))),c.a.createElement("div",{className:"joinInnerContainersm"},c.a.createElement("img",{src:B.a,alt:""})))}var D=t(11),M=t(270),V=t(265),W=t(260),Y=t(263),P=t(231),Q=t(63),T=t.n(Q),K=Object(r.createContext)(),J=p()("https://chatapp0007.herokuapp.com"),G=function(e){var a=e.children,t=Object(r.useState)(!1),n=Object(s.a)(t,2),l=n[0],i=n[1],o=Object(r.useState)(!1),m=Object(s.a)(o,2),u=m[0],d=m[1],p=Object(r.useState)(),f=Object(s.a)(p,2),E=f[0],g=f[1],b=Object(r.useState)(""),v=Object(s.a)(b,2),A=v[0],h=v[1],j=Object(r.useState)({}),C=Object(s.a)(j,2),x=C[0],O=C[1],N=Object(r.useState)(""),y=Object(s.a)(N,2),w=y[0],I=y[1],S=Object(r.useRef)(),k=Object(r.useRef)(),R=Object(r.useRef)();Object(r.useEffect)(function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(e){g(e),S.current.srcObject=e}),J.on("me",function(e){return I(e)}),J.on("callUser",function(e){var a=e.from,t=e.name,n=e.signal;O({isReceivingCall:!0,from:a,name:t,signal:n})})},[]);return c.a.createElement(K.Provider,{value:{call:x,callAccepted:l,myVideo:S,userVideo:k,stream:E,name:A,setName:h,callEnded:u,me:w,callUser:function(e){var a=new T.a({initiator:!0,trickle:!1,stream:E});a.on("signal",function(a){J.emit("callUser",{userToCall:e,signalData:a,from:w,name:A})}),a.on("stream",function(e){k.current.srcObject=e}),J.on("callAccepted",function(e){i(!0),a.signal(e)}),R.current=a},leaveCall:function(){d(!0),R.current.destroy(),window.location.reload()},answerCall:function(){i(!0);var e=new T.a({initiator:!1,trickle:!1,stream:E});e.on("signal",function(e){J.emit("answerCall",{signal:e,to:x.from})}),e.on("stream",function(e){k.current.srcObject=e}),e.signal(x.signal),R.current=e}}},a)},L=Object(W.a)(function(e){return{video:Object(D.a)({width:"550px"},e.breakpoints.down("xs"),{width:"300px"}),gridContainer:Object(D.a)({justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),paper:{padding:"10px",border:"2px solid black",margin:"10px"}}}),z=function(){var e=Object(r.useContext)(K),a=e.name,t=e.callAccepted,n=e.myVideo,l=e.userVideo,i=e.callEnded,o=e.stream,s=e.call,m=L();return c.a.createElement(Y.a,{container:!0,className:m.gridContainer},o&&c.a.createElement(P.a,{className:m.paper},c.a.createElement(Y.a,{item:!0,xs:12,md:6},c.a.createElement(V.a,{variant:"h5",gutterBottom:!0},a||"Name"),c.a.createElement("video",{playsInline:!0,muted:!0,ref:n,autoPlay:!0,className:m.video}))),t&&!i&&c.a.createElement(P.a,{className:m.paper},c.a.createElement(Y.a,{item:!0,xs:12,md:6},c.a.createElement(V.a,{variant:"h5",gutterBottom:!0},s.name||"Name"),c.a.createElement("video",{playsInline:!0,ref:l,autoPlay:!0,className:m.video}))))},F=t(266),X=t(271),Z=t(272),q=t(106),_=t(267),H=t(268),$=t(269),ee=Object(W.a)(function(e){return{root:{display:"flex",flexDirection:"column"},gridContainer:Object(D.a)({width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),container:Object(D.a)({width:"600px",margin:"35px 0",padding:0},e.breakpoints.down("xs"),{width:"80%"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:"10px 20px",border:"2px solid black"}}}),ae=function(e){var a=e.children,t=Object(r.useContext)(K),n=t.me,l=t.callAccepted,i=t.name,o=t.setName,m=t.callEnded,u=t.leaveCall,d=t.callUser,p=Object(r.useState)(""),f=Object(s.a)(p,2),E=f[0],g=f[1],b=ee();return c.a.createElement(F.a,{className:b.container},c.a.createElement(P.a,{elevation:10,className:b.paper},c.a.createElement("form",{className:b.root,noValidate:!0,autoComplete:"off"},c.a.createElement(Y.a,{container:!0,className:b.gridContainer},c.a.createElement(Y.a,{item:!0,xs:12,md:6,className:b.padding},c.a.createElement(V.a,{gutterBottom:!0,variant:"h6"},"Account Info"),c.a.createElement(X.a,{label:"Name",value:i,onChange:function(e){return o(e.target.value)},fullWidth:!0}),c.a.createElement(q.CopyToClipboard,{text:n,className:b.margin},c.a.createElement(Z.a,{variant:"contained",color:"primary",fullWidth:!0,startIcon:c.a.createElement(_.a,{fontSize:"large"})},"Copy Your ID"))),c.a.createElement(Y.a,{item:!0,xs:12,md:6,className:b.padding},c.a.createElement(V.a,{gutterBottom:!0,variant:"h6"},"Make a call"),c.a.createElement(X.a,{label:"ID to call",value:E,onChange:function(e){return g(e.target.value)},fullWidth:!0}),l&&!m?c.a.createElement(Z.a,{variant:"contained",color:"secondary",startIcon:c.a.createElement(H.a,{fontSize:"large"}),fullWidth:!0,onClick:u,className:b.margin},"Hang Up"):c.a.createElement(Z.a,{variant:"contained",color:"primary",startIcon:c.a.createElement($.a,{fontSize:"large"}),fullWidth:!0,onClick:function(){return d(E)},className:b.margin},"Call")))),a))},te=function(){var e=Object(r.useContext)(K),a=e.answerCall,t=e.call,n=e.callAccepted;return c.a.createElement(c.a.Fragment,null,t.isReceivingCall&&!n&&c.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},c.a.createElement("h1",null,t.name," is calling:"),c.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:a},"Answer")))},ne=Object(W.a)(function(e){return{appBar:Object(D.a)({borderRadius:15,margin:"30px 100px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"600px",border:"2px solid black"},e.breakpoints.down("xs"),{width:"90%"}),image:{marginLeft:"15px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}}}),re=function(){var e=ne();return c.a.createElement("div",{className:e.wrapper},c.a.createElement(M.a,{className:e.appBar,position:"static",color:"inherit"},c.a.createElement(V.a,{variant:"h2",align:"center"},"Video Chat")),c.a.createElement(z,null),c.a.createElement(ae,null,c.a.createElement(te,null)))},ce=(t(229),function(){return c.a.createElement(G,null,c.a.createElement(re,null))}),le=t(23),ie=function(){return c.a.createElement(I.a,null,c.a.createElement(le.a,{path:"/",exact:!0,component:U}),c.a.createElement(le.a,{path:"/chat",component:w}),c.a.createElement(le.a,{path:"/video",component:ce}))};i.a.render(c.a.createElement(ie,null),document.getElementById("root"))},46:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="}},[[114,1,2]]]);
//# sourceMappingURL=main.5e2ebe81.chunk.js.map